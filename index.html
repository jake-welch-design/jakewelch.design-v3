<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.17.1/matter.min.js"></script>
  <script src="javascript/load-components.js"></script>
  <script src="javascript/scramble.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>jakewelch.design | Home</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="header-placeholder"></div>
  <main>
  </main>
  <div id="footer-placeholder"></div>
  <script src="javascript/dropdown-menu.js"></script>
  <!-- Script to update main dimensions and initialize sketch -->
  <script>
    function updateMainDimensions() {
      const mainTag = document.querySelector('main');
      if (mainTag) {
        const rect = mainTag.getBoundingClientRect();
        if (window.setMainDimensions) {
          window.setMainDimensions(rect.left + window.scrollX, rect.top + window.scrollY, rect.width, rect.height);
        }
      }
    }
  
    function initializeSketch() {
      // Ensure the sketch initializes only after the viewport is stable
      updateMainDimensions();
      document.removeEventListener('DOMContentLoaded', initializeSketch);
      window.removeEventListener('resize', initializeSketch);
  
      // Determine whether to load grav-img.js or tilt-squares.js
      const isMobile = window.innerWidth < 768;
      const script = document.createElement('script');
      script.src = isMobile ? 'javascript/tilt-squares.js' : 'javascript/grav-img.js';
      document.body.appendChild(script);
    }
  
    // Attach event listeners
    document.addEventListener('DOMContentLoaded', initializeSketch);
    window.addEventListener('resize', initializeSketch);
  </script>
</body>
</html>
